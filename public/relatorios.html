<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>NextRail | Relatórios</title>

  <script src="./js/sessao.js"></script>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/menu.css">
  <link rel="icon" href="./assets/icon/nextrail-logo.jpg">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <!-- Menu lateral -->
  <div class="menu">
    <ul class="link-items">
      <div class="logo-container">
        <img src="./assets/icon/logo-SFroxo.png" alt="Logo NextRail" class="logo-menu">
      </div>

      <li class="link-item">
        <a href="index.html" class="link">
          <ion-icon name="home-outline"></ion-icon>
          <span style="--i: 1">Início</span>
        </a>
      </li>

      <li class="link-item">
        <a href="sistema.html" class="link">
          <ion-icon name="desktop-outline"></ion-icon>
          <span style="--i: 2">Sistema</span>
        </a>
      </li>

      <li class="link-item active">
        <a href="relatorios.html" class="link">
          <ion-icon name="stats-chart-outline"></ion-icon>
          <span style="--i: 3">Relatórios</span>
        </a>
      </li>

      <li class="link-item">
        <a href="curiosidades.html" class="link">
          <ion-icon name="bulb-outline"></ion-icon>
          <span style="--i: 4">Curiosidades</span>
        </a>
      </li>

      <li class="link-item">
        <a href="sobre.html" class="link">
          <ion-icon name="information-circle-outline"></ion-icon>
          <span style="--i: 5">Sobre</span>
        </a>
      </li>

      <li class="link-item">
        <a href="login.html" class="link">
          <ion-icon name="log-in-outline"></ion-icon>
          <span style="--i: 6">Entrar</span>
        </a>
      </li>
    </ul>
  </div>

   <main class="relatorios" id="relatorios">
    <div class="container-secao">
      <div class="texto-secao">
        <h2>Otimização através de Relatórios</h2>
        <p>
          Com gráficos intuitivos, você acompanha tendências de desempenho de CPU, memória e disco.
          Descubra picos de uso, identifique gargalos e tome decisões rápidas para manter a operação estável e
          eficiente.
        </p>
        <ul class="lista-beneficios">
          <li>
            <ion-icon name="bar-chart-outline"></ion-icon>
            <span>Visualização clara de indicadores críticos</span>
          </li>
          <li>
            <ion-icon name="flash-outline"></ion-icon>
            <span>Relatórios otimizados para análise em tempo real</span>
          </li>
          <li>
            <ion-icon name="shield-checkmark-outline"></ion-icon>
            <span>Dados seguros e confiáveis</span>
          </li>
        </ul>

      </div>

      <!-- Container dos gráficos -->
      <div class="graficos-container">
        <div class="grafico-box">
          <h3>Uso de CPU</h3>
          <canvas id="graficoRelatorioCPU"></canvas>
        </div>
        <div class="grafico-box">
          <h3>Uso de RAM</h3>
          <canvas id="graficoRelatorioRAM"></canvas>
        </div>
        <div class="grafico-box">
          <h3>Uso de Disco</h3>
          <canvas id="graficoRelatorioDisco"></canvas>
        </div>
      </div>
      
    </div>
  </main>

  <!-- Rodapé -->
  <footer>
        <div class="rodape_conteudo">
            <div class="coluna">
                <h3>NextRail</h3>
                <p>Todos os direitos reservados.</p>
                <p>2025</p>
            </div>
            <div class="coluna">
                <h3>Contato</h3>
                <p>nextrailsuporte@gmail.com</p>
                 <p>(11) 99999-9999</p>
            </div>
            <div class="coluna">
                <h3>Desenvolvedores</h3>
                <p>Bianca Ortega</p>
                <p>Felipe Hideki</p>
                <p>Guilherme Aoki</p>
                <p>Lucas Hideo</p>
                <p>Kheyla Thais</p>
                <p>Igor cardoso</p>
            </div>
        </div>

  </footer>

  <!-- Scripts -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  <script src="./js/script.js"></script>


  <script>
  const cpuCtx = document.getElementById('graficoRelatorioCPU').getContext('2d');
  const ramCtx = document.getElementById('graficoRelatorioRAM').getContext('2d');
  const discoCtx = document.getElementById('graficoRelatorioDisco').getContext('2d');

  const configLine = {
    type: 'line',
    data: {
      labels: Array.from({ length: 10 }, (_, i) => i + 1),
      datasets: [{
        label: '',
        data: [],
        borderColor: '#4e79a7',
        backgroundColor: 'rgba(78,121,167,0.2)',
        tension: 0.4,
        fill: true
      }]
    },
    options: {
      responsive: true,
      animation: { duration: 800 },
      plugins: { legend: { display: true } },
      scales: { y: { beginAtZero: true, max: 100 } }
    }
  };

  const graficoCPU = new Chart(cpuCtx, JSON.parse(JSON.stringify(configLine)));
  graficoCPU.data.datasets[0].label = 'Uso de CPU (%)';

  const graficoRAM = new Chart(ramCtx, JSON.parse(JSON.stringify(configLine)));
  graficoRAM.data.datasets[0].label = 'Uso de RAM (%)';

  const graficoDisco = new Chart(discoCtx, JSON.parse(JSON.stringify(configLine)));
  graficoDisco.data.datasets[0].label = 'Uso de Disco (%)';

  function gerarDadoAleatorio() {
    return Math.floor(Math.random() * 100);
  }

  function atualizarGrafico(grafico) {
    if (grafico.data.datasets[0].data.length >= 10) {
      grafico.data.datasets[0].data.shift();
    }
    grafico.data.datasets[0].data.push(gerarDadoAleatorio());
    grafico.update();
  }

  const observer = new IntersectionObserver((entries) => {
    if (entries[0].isIntersecting) {
      
      //Mudar depois...
      setInterval(() => atualizarGrafico(graficoCPU), 500);
      setInterval(() => atualizarGrafico(graficoRAM), 1000);
      setInterval(() => atualizarGrafico(graficoDisco), 700);

      observer.disconnect();
    }
  }, { threshold: 0.4 });

  observer.observe(document.getElementById('relatorios'));
</script>
</body>
</html>
