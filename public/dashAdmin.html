<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="./js/sessao.js"></script>
  <script src="js/adap_dash_cargo.js"></script>
  <script src="js/dashAdmin.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  

  <link rel="stylesheet" href="./css/menu.css">
  <link rel="stylesheet" href="./css/dashAdmin.css">
  
  <title>NextRail - Equipe</title>
</head>
<body onload="validarSessao(), analisaCargo(), arrumarMenu(), dashAdmin()">
  <!-- Menu lateral -->
  <div class="menu" id="DIVmenu">

  </div>

  <!-- Menu hamburger -->
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <main class="dashAdmin">
    <h1>Empresa - Equipe de Suporte</h1>

    <div class="linha">
      <div class="kpi">
        <div class="titulo">MTTA</div>
        <div id="mtta" class="conteudo">
          5 min.
        </div>
      </div>
      <div class="kpi">
        <div class="titulo">MTTR (Geral)</div>
        <div id="mttr-geral" class="conteudo"></div>
      </div>
      <div class="kpi">
        <div class="titulo">MTBF</div>
        <div id="mtbf" class="conteudo">8 dias</div>
      </div>
      <div class="kpi, kpi_sla" id="kpi_sla">
        <div class="titulo">Alertas resolvidos dentro do SLA 
          <select name="" id="alerta-sla" class="select" onchange="mudarCor()">
            <option value="alto">Alto</option>
            <option value="medio">Médio</option>
            <option value="baixo">Baixo</option>
          </select>
        </div>
        <div class="conteudo">
          <div>98,99%</div>
          <div>MTTR: 45 min.</div>
        </div>
      </div>
      <div>
      </div>
    </div>

    <div class="linha">
      <div class="cardGrafico">
        <h2>Tempo de Resolução em relação a Meta</h2>
          <div class="servidorAlerta">
            <select name="" id="muda-servidor" onchange="mudarServidor()" class="mudaAlerta"></select>
            
            <button id="muda-alerta" onclick="mudarAlerta()" class="mudaAlerta">Alto</button>
          </div>
        <canvas id="tempoSla"></canvas>
      </div>

      <div class="cardGrafico">
        <h2 id="titulo-ticket">Tickets por Suporte</h2>
        <canvas id="ticketsSup"></canvas>
      </div>
    </div>

    <div class="card_legenda">
      <div class="legenda">
        <div class="opcaoLegenda">
          <div class="bloco_cor" style="background-color:yellow"></div>
          <p>Alerta Baixo</p>
        </div>
        <p>|</p>
        <div class="opcaoLegenda">
          <div class="bloco_cor" style="background-color:darkorange"></div>
          <p>Alerta Médio</p>
        </div>
        <p>|</p>
        <div class="opcaoLegenda">
          <div class="bloco_cor" style="background-color:red"></div>
          <p>Alerta Alto</p>
        </div>
        <div class="opcaoLegenda" id="mostrarTodos" onclick="listarServidorTodos()">
      </div>
    </div>
      <div class="descricoes">
        <div class="desc">
          <span>MTTA:</span> Tempo médio para um alerta ser Reconhecido
        </div>
        <div class="desc">
          <span>MTTR:</span> Tempo médio de resolução de um alerta        
        </div>
        <div class="desc">
          <span>MTBF:</span> Tempo médio entre alertas
        </div>
        <div class="desc">
          <ion-icon name="arrow-up-outline" style="color: red; width: 50px;" class="seta"></ion-icon>
          Aumento em relação ao último mês
        </div>
        <div class="desc">
          <ion-icon name="arrow-down-outline" style="color: green; width: 50px;" class="seta"></ion-icon>
          Redução em relação ao último mês
        </div>
      </div>
    </div>

  </main>
  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>
